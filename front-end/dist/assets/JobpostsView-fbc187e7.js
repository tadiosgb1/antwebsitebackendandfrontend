import M from"./AddJobposts-1a56a8e9.js";import C from"./EditJobposts-257bea1a.js";import{L as I}from"./Loading-ba997810.js";import{D as S}from"./DeleteConfirmModal-b44bd4e2.js";import{_ as D,r as u,o as i,c as r,a as f,b as e,w as h,v as P,d as V,F as y,e as m,f as x,t as l,g as b,h as a}from"./index-4d9ae2c6.js";const j={components:{AddJobposts:M,EditJobposts:C,Loading:I,DeleteConfirmModal:S},data(){return{items:[],count:0,nextPage:null,previousPage:null,currentPage:1,pageSize:10,searchQuery:"",showModal:!1,editMode:!1,selectedItem:null,loading:!1,deleteModalVisible:!1,deleteId:null}},methods:{async fetchItems(d=1){this.loading=!0,this.currentPage=d;const t={page:this.currentPage,page_size:this.pageSize,search:this.searchQuery};try{const p=await this.$apiGet("/jobposts",t);this.items=p.data,this.count=p.count||0,this.nextPage=p.next||null,this.previousPage=p.previous||null}catch(p){console.error(p)}finally{this.loading=!1}},openAddModal(){this.editMode=!1,this.selectedItem=null,this.showModal=!0},editItem(d){this.editMode=!0,this.selectedItem=d,this.showModal=!0},viewDetails(d){this.$router.push({name:"Jobposts-detail",params:{id:d}})},openDeleteModal(d){this.deleteId=d,this.deleteModalVisible=!0},async confirmDelete(){await this.$apiDelete("/jobposts",this.deleteId)&&this.$root.$refs.toast.showToast("Jobposts deleted successfully","success"),this.deleteModalVisible=!1,this.fetchItems(this.currentPage)}},mounted(){this.fetchItems()}},J={class:"p-6 bg-gray-50 min-h-screen text-sm text-gray-800 relative"},L={class:"flex items-center justify-between mb-6 border-b pb-4 border-gray-200"},A={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4"},N={class:"flex items-center gap-2 text-sm text-gray-600"},E=["value"],z={class:"bg-white overflow-hidden rounded-xl border border-gray-200 hidden md:block"},B={class:"overflow-x-auto"},T={class:"min-w-full text-sm divide-y divide-gray-200"},Q={class:"bg-white divide-y divide-gray-200"},F={class:"px-6 py-4"},U={class:"px-6 py-4 whitespace-nowrap"},G={class:"px-6 py-4 whitespace-nowrap"},H={class:"px-6 py-4 whitespace-nowrap"},q={class:"px-6 py-4 whitespace-nowrap"},K={class:"px-6 py-4 whitespace-nowrap"},O={class:"px-6 py-4 whitespace-nowrap"},R={class:"px-6 py-4 whitespace-nowrap"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"px-6 py-4 whitespace-nowrap"},Z={class:"px-6 py-4 text-center space-x-3"},$=["onClick"],ee=["onClick"],te=["onClick"],se={key:0},oe={class:"md:hidden space-y-4"},le={class:"flex justify-between mb-3"},ne={class:"font-bold text-gray-800"},ie={class:"flex gap-3 text-sm"},ae=["onClick"],de=["onClick"],re=["onClick"],pe={class:"grid grid-cols-2 gap-y-1 text-sm text-gray-700"},ce={class:"col-span-2"},ue={class:"col-span-2"},xe={class:"col-span-2"},ge={class:"col-span-2"},ye={class:"col-span-2"},me={class:"col-span-2"},fe={class:"col-span-2"},he={class:"col-span-2"},be={class:"col-span-2"},ve={class:"col-span-2"},_e={key:0,class:"text-center text-gray-400 py-6 italic"},we={class:"flex items-center justify-between mt-6 text-sm text-gray-600"},ke={class:"flex items-center gap-2"},Me=["disabled"],Ce={class:"px-3 py-1 bg-green-600 text-white rounded-lg font-medium"},Ie=["disabled"];function Se(d,t,p,De,o,n){const v=u("Loading"),_=u("add-jobposts"),w=u("edit-jobposts"),k=u("delete-confirm-modal");return i(),r("div",J,[f(v,{visible:o.loading,message:"Loading Jobposts..."},null,8,["visible"]),e("div",L,[t[11]||(t[11]=e("h1",{class:"text-lg font-bold text-gray-800"},"Jobposts",-1)),e("button",{onClick:t[0]||(t[0]=(...s)=>n.openAddModal&&n.openAddModal(...s)),class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium shadow-md flex items-center space-x-1 text-sm"},t[10]||(t[10]=[e("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",null,"Add Jobposts",-1)]))]),e("div",A,[h(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.searchQuery=s),onInput:t[2]||(t[2]=s=>n.fetchItems(1)),type:"text",placeholder:"Search...",class:"border border-gray-300 rounded-lg px-4 py-2 text-sm w-full sm:max-w-xs focus:outline-none focus:ring-2 focus:ring-green-500 shadow-sm transition duration-150"},null,544),[[P,o.searchQuery]]),e("div",N,[t[12]||(t[12]=e("label",null,"Show",-1)),h(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.pageSize=s),onChange:t[4]||(t[4]=s=>n.fetchItems(1)),class:"border border-gray-300 rounded-lg px-2 py-1 text-sm bg-white focus:ring-green-500 focus:border-green-500"},[(i(),r(y,null,m([5,10,20,50,100],s=>e("option",{key:s,value:s},l(s),9,E)),64))],544),[[V,o.pageSize]]),t[13]||(t[13]=e("span",null,"entries",-1))])]),e("div",z,[e("div",B,[e("table",T,[t[18]||(t[18]=e("thead",{class:"bg-gray-100 text-gray-700 uppercase text-xs font-semibold"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left"},"#"),e("th",{class:"px-6 py-3 text-left"},"Title"),e("th",{class:"px-6 py-3 text-left"},"Description"),e("th",{class:"px-6 py-3 text-left"}," Location"),e("th",{class:"px-6 py-3 text-left"}," Employment_type"),e("th",{class:"px-6 py-3 text-left"}," Experience_level"),e("th",{class:"px-6 py-3 text-left"},"Salary_min"),e("th",{class:"px-6 py-3 text-left"},"Salary_max"),e("th",{class:"px-6 py-3 text-left"},"Vacancies"),e("th",{class:"px-6 py-3 text-left"},"Deadline"),e("th",{class:"px-6 py-3 text-left"},"Is_active"),e("th",{class:"px-6 py-3 text-center"},"Actions")])],-1)),e("tbody",Q,[(i(!0),r(y,null,m(o.items,(s,g)=>(i(),r("tr",{key:s.id,class:"hover:bg-green-50 transition duration-150"},[e("td",F,l(g+1),1),e("td",U,l(s.title),1),e("td",G,l(s.description),1),e("td",H,l(s.location),1),e("td",q,l(s.employment_type),1),e("td",K,l(s.experience_level),1),e("td",O,l(s.salary_min),1),e("td",R,l(s.salary_max),1),e("td",W,l(s.vacancies),1),e("td",X,l(s.deadline),1),e("td",Y,l(s.is_active),1),e("td",Z,[e("button",{onClick:c=>n.viewDetails(s.id),class:"text-green-500 hover:text-green-700"},t[14]||(t[14]=[e("i",{class:"fas fa-eye"},null,-1)]),8,$),e("button",{onClick:c=>n.editItem(s),class:"text-blue-500 hover:text-blue-700"},t[15]||(t[15]=[e("i",{class:"fas fa-edit"},null,-1)]),8,ee),e("button",{onClick:c=>n.openDeleteModal(s.id),class:"text-red-500 hover:text-red-700"},t[16]||(t[16]=[e("i",{class:"fas fa-trash"},null,-1)]),8,te)])]))),128)),o.items.length===0?(i(),r("tr",se,t[17]||(t[17]=[e("td",{colspan:"12",class:"text-center py-6 text-gray-400 italic"},"No data found.",-1)]))):x("",!0)])])])]),e("div",oe,[(i(!0),r(y,null,m(o.items,(s,g)=>(i(),r("div",{key:s.id,class:"bg-white border border-gray-200 rounded-xl shadow p-4"},[e("div",le,[e("h2",ne,"Jobposts #"+l(g+1),1),e("div",ie,[e("button",{onClick:c=>n.viewDetails(s.id),class:"text-green-500 hover:text-green-700"},t[19]||(t[19]=[e("i",{class:"fas fa-eye"},null,-1)]),8,ae),e("button",{onClick:c=>n.editItem(s),class:"text-blue-500 hover:text-blue-700"},t[20]||(t[20]=[e("i",{class:"fas fa-edit"},null,-1)]),8,de),e("button",{onClick:c=>n.openDeleteModal(s.id),class:"text-red-500 hover:text-red-700"},t[21]||(t[21]=[e("i",{class:"fas fa-trash"},null,-1)]),8,re)])]),e("div",pe,[e("div",ce,[t[22]||(t[22]=e("span",{class:"font-medium text-gray-600"},"Title:",-1)),a(" "+l(s.title),1)]),e("div",ue,[t[23]||(t[23]=e("span",{class:"font-medium text-gray-600"},"Description:",-1)),a(" "+l(s.description),1)]),e("div",xe,[t[24]||(t[24]=e("span",{class:"font-medium text-gray-600"},"Location:",-1)),a(" "+l(s.location),1)]),e("div",ge,[t[25]||(t[25]=e("span",{class:"font-medium text-gray-600"},"Employment_type:",-1)),a(" "+l(s.employment_type),1)]),e("div",ye,[t[26]||(t[26]=e("span",{class:"font-medium text-gray-600"},"Expereince_level:",-1)),a(" "+l(s.experience_level),1)]),e("div",me,[t[27]||(t[27]=e("span",{class:"font-medium text-gray-600"},"Salary_min:",-1)),a(" "+l(s.salary_min),1)]),e("div",fe,[t[28]||(t[28]=e("span",{class:"font-medium text-gray-600"},"Salary_max:",-1)),a(" "+l(s.salary_max),1)]),e("div",he,[t[29]||(t[29]=e("span",{class:"font-medium text-gray-600"},"Vacancies:",-1)),a(" "+l(s.vacancies),1)]),e("div",be,[t[30]||(t[30]=e("span",{class:"font-medium text-gray-600"},"Deadline:",-1)),a(" "+l(s.deadline),1)]),e("div",ve,[t[31]||(t[31]=e("span",{class:"font-medium text-gray-600"},"Is_active:",-1)),a(" "+l(s.is_active),1)])])]))),128)),o.items.length===0?(i(),r("p",_e,"No data found.")):x("",!0)]),e("div",we,[e("span",null," Showing "+l((o.currentPage-1)*o.pageSize+1)+" to "+l(Math.min(o.currentPage*o.pageSize,o.count))+" of "+l(o.count)+" total entries ",1),e("div",ke,[e("button",{onClick:t[5]||(t[5]=s=>n.fetchItems(o.currentPage-1)),disabled:!o.previousPage,class:"px-3 py-1 border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150"},"← Previous",8,Me),e("span",Ce,l(o.currentPage),1),e("button",{onClick:t[6]||(t[6]=s=>n.fetchItems(o.currentPage+1)),disabled:!o.nextPage,class:"px-3 py-1 border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150"},"Next →",8,Ie)])]),o.showModal&&!o.editMode?(i(),b(_,{key:0,data:o.selectedItem,onClose:t[7]||(t[7]=s=>o.showModal=!1),onSaved:n.fetchItems},null,8,["data","onSaved"])):x("",!0),o.showModal&&o.editMode?(i(),b(w,{key:1,data:o.selectedItem,onClose:t[8]||(t[8]=s=>o.showModal=!1),onSaved:n.fetchItems},null,8,["data","onSaved"])):x("",!0),f(k,{visible:o.deleteModalVisible,title:"Delete Jobposts",message:"Are you sure you want to delete this Jobposts?",onConfirm:n.confirmDelete,onCancel:t[9]||(t[9]=s=>o.deleteModalVisible=!1)},null,8,["visible","onConfirm"])])}const Ae=D(j,[["render",Se]]);export{Ae as default};
