import M from"./AddTeam-536a85ae.js";import I from"./EditTeam-f79a9185.js";import{L as C}from"./Loading-fcacadd9.js";import{D as P}from"./DeleteConfirmModal-8e7a955b.js";import{_ as S,r as u,o as i,c as g,a as f,b as t,w as p,v as T,d as D,F as h,e as x,f as m,t as n,g as v,h as a}from"./index-6099779f.js";const V={components:{AddTeam:M,EditTeam:I,Loading:C,DeleteConfirmModal:P},data(){return{items:[],count:0,nextPage:null,previousPage:null,currentPage:1,pageSize:3,searchQuery:"",showModal:!1,editMode:!1,selectedItem:null,loading:!1,deleteModalVisible:!1,deleteId:null}},methods:{async fetchItems(r=1){this.loading=!0,this.currentPage=r;const e={page:this.currentPage,page_size:this.pageSize,search:this.searchQuery};try{const d=await this.$apiGet("/team",e);this.items=d.data,this.count=d.count||0,this.nextPage=d.next||null,this.previousPage=d.previous||null}catch(d){console.error(d)}finally{this.loading=!1}},openAddModal(){this.editMode=!1,this.selectedItem=null,this.showModal=!0},editItem(r){this.editMode=!0,this.selectedItem=r,this.showModal=!0},viewDetails(r){this.$router.push({name:"Team-detail",params:{id:r}})},openDeleteModal(r){this.deleteId=r,this.deleteModalVisible=!0},async confirmDelete(){await this.$apiDelete("/team",this.deleteId)&&this.$root.$refs.toast.showToast("Team deleted successfully","success"),this.deleteModalVisible=!1,this.fetchItems(this.currentPage)}},mounted(){this.fetchItems()}},j={class:"p-6 bg-gray-50 min-h-screen text-sm text-gray-800 relative"},L={class:"flex items-center justify-between mb-6 border-b pb-4 border-gray-200"},N={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4"},A={class:"flex items-center gap-2 text-sm text-gray-600"},z=["value"],B={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},Q={key:0,class:"mb-4"},F=["src"],E={class:"grid grid-cols-2 gap-y-2 gap-x-4 text-sm text-gray-700"},U={class:"col-span-2 font-medium text-gray-600"},G={class:"col-span-2"},H={class:"col-span-2"},R={class:"col-span-2"},q=["href"],J={class:"col-span-2"},K=["href"],O={class:"col-span-2"},W=["href"],X={class:"col-span-2"},Y=["href"],Z={class:"col-span-2"},$=["href"],ee={class:"flex justify-end gap-2 mt-4"},te=["onClick"],se=["onClick"],oe=["onClick"],ne={key:0,class:"col-span-full text-center text-gray-400 italic py-10"},le={class:"flex items-center justify-between mt-6 text-sm text-gray-600"},re={class:"flex items-center gap-2"},ie=["disabled"],de={class:"px-3 py-1 bg-green-600 text-white rounded-lg font-medium"},ae=["disabled"];function ge(r,e,d,ue,o,l){const b=u("Loading"),y=u("add-team"),w=u("edit-team"),k=u("delete-confirm-modal");return i(),g("div",j,[f(b,{visible:o.loading,message:"Loading Team..."},null,8,["visible"]),t("div",L,[e[11]||(e[11]=t("h1",{class:"text-lg font-bold text-gray-800"},"Teams",-1)),t("button",{onClick:e[0]||(e[0]=(...s)=>l.openAddModal&&l.openAddModal(...s)),class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium shadow-md flex items-center space-x-1 text-sm"},e[10]||(e[10]=[t("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),t("span",null,"Add Team",-1)]))]),t("div",N,[p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.searchQuery=s),onInput:e[2]||(e[2]=s=>l.fetchItems(1)),type:"text",placeholder:"Search...",class:"border border-gray-300 rounded-lg px-4 py-2 text-sm w-full sm:max-w-xs focus:outline-none focus:ring-2 focus:ring-green-500 shadow-sm transition duration-150"},null,544),[[T,o.searchQuery]]),t("div",A,[e[12]||(e[12]=t("label",null,"Show",-1)),p(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.pageSize=s),onChange:e[4]||(e[4]=s=>l.fetchItems(1)),class:"border border-gray-300 rounded-lg px-2 py-1 text-sm bg-white focus:ring-green-500 focus:border-green-500"},[(i(),g(h,null,x([3,6,9,15,50,100],s=>t("option",{key:s,value:s},n(s),9,z)),64))],544),[[D,o.pageSize]]),e[13]||(e[13]=t("span",null,"entries",-1))])]),t("div",B,[(i(!0),g(h,null,x(o.items,(s,_)=>(i(),g("div",{key:s.id,class:"bg-white border border-gray-200 rounded-xl shadow p-4 flex flex-col justify-between"},[s.photo?(i(),g("div",Q,[t("img",{src:s.photo,alt:"Photo",class:"w-full h-48 object-cover rounded-lg"},null,8,F)])):m("",!0),t("div",E,[t("div",U,"#"+n(_+1),1),t("div",G,[e[14]||(e[14]=t("span",{class:"font-medium text-gray-600"},"Name:",-1)),a(" "+n(s.name),1)]),t("div",H,[e[15]||(e[15]=t("span",{class:"font-medium text-gray-600"},"Role:",-1)),a(" "+n(s.role),1)]),t("div",R,[e[16]||(e[16]=t("span",{class:"font-medium text-gray-600"},"Facebook:",-1)),e[17]||(e[17]=a()),t("a",{href:s.facebook,target:"_blank",class:"text-green-600 hover:text-green-800"},n(s.facebook),9,q)]),t("div",J,[e[18]||(e[18]=t("span",{class:"font-medium text-gray-600"},"Linkedin:",-1)),e[19]||(e[19]=a()),t("a",{href:s.linkedin,target:"_blank",class:"text-green-600 hover:text-green-800"},n(s.linkedin),9,K)]),t("div",O,[e[20]||(e[20]=t("span",{class:"font-medium text-gray-600"},"Instagram:",-1)),e[21]||(e[21]=a()),t("a",{href:s.instagram,target:"_blank",class:"text-green-600 hover:text-green-800"},n(s.instagram),9,W)]),t("div",X,[e[22]||(e[22]=t("span",{class:"font-medium text-gray-600"},"Twitter:",-1)),e[23]||(e[23]=a()),t("a",{href:s.twitter,target:"_blank",class:"text-green-600 hover:text-green-800"},n(s.twitter),9,Y)]),t("div",Z,[e[24]||(e[24]=t("span",{class:"font-medium text-gray-600"},"Telegram:",-1)),e[25]||(e[25]=a()),t("a",{href:s.telegram,target:"_blank",class:"text-green-600 hover:text-green-800"},n(s.telegram),9,$)])]),t("div",ee,[t("button",{onClick:c=>l.viewDetails(s.id),class:"text-green-500 hover:text-green-700"},e[26]||(e[26]=[t("i",{class:"fas fa-eye"},null,-1)]),8,te),t("button",{onClick:c=>l.editItem(s),class:"text-blue-500 hover:text-blue-700"},e[27]||(e[27]=[t("i",{class:"fas fa-edit"},null,-1)]),8,se),t("button",{onClick:c=>l.openDeleteModal(s.id),class:"text-red-500 hover:text-red-700"},e[28]||(e[28]=[t("i",{class:"fas fa-trash"},null,-1)]),8,oe)])]))),128)),o.items.length===0?(i(),g("div",ne," No data found. ")):m("",!0)]),t("div",le,[t("span",null," Showing "+n((o.currentPage-1)*o.pageSize+1)+" to "+n(Math.min(o.currentPage*o.pageSize,o.count))+" of "+n(o.count)+" total entries ",1),t("div",re,[t("button",{onClick:e[5]||(e[5]=s=>l.fetchItems(o.currentPage-1)),disabled:!o.previousPage,class:"px-3 py-1 border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150"},"← Previous",8,ie),t("span",de,n(o.currentPage),1),t("button",{onClick:e[6]||(e[6]=s=>l.fetchItems(o.currentPage+1)),disabled:!o.nextPage,class:"px-3 py-1 border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150"},"Next →",8,ae)])]),o.showModal&&!o.editMode?(i(),v(y,{key:0,data:o.selectedItem,onClose:e[7]||(e[7]=s=>o.showModal=!1),onSaved:l.fetchItems},null,8,["data","onSaved"])):m("",!0),o.showModal&&o.editMode?(i(),v(w,{key:1,data:o.selectedItem,onClose:e[8]||(e[8]=s=>o.showModal=!1),onSaved:l.fetchItems},null,8,["data","onSaved"])):m("",!0),f(k,{visible:o.deleteModalVisible,title:"Delete Team",message:"Are you sure you want to delete this Team?",onConfirm:l.confirmDelete,onCancel:e[9]||(e[9]=s=>o.deleteModalVisible=!1)},null,8,["visible","onConfirm"])])}const xe=S(V,[["render",ge]]);export{xe as default};
