import{_ as m,o as a,c as u,b as e,i as f,w as n,v as d,d as b}from"./index-4d9ae2c6.js";const p={props:{data:Object},data(){return{form:{title:"",content:"",image:"",video:"",category:""},files:{}}},methods:{handleFile(s,t){this.files[t]=s.target.files[0]},async submitForm(){try{const s=new FormData;Object.keys(this.form).forEach(l=>{s.append(l,this.form[l])}),Object.keys(this.files).forEach(l=>{s.append(l,this.files[l])});const t={"Content-Type":"multipart/form-data"};await this.$apiPut("/news",this.data.id,s,t),this.$root.$refs.toast.showToast("Edited successfully","success"),this.$emit("saved"),this.$emit("close")}catch(s){console.error(s)}}},mounted(){this.data&&Object.keys(this.data).forEach(s=>{this.form[s]!==void 0&&(this.form[s]=this.data[s])})}},x={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},g={class:"bg-white rounded-xl shadow-2xl w-full max-w-sm p-6 text-sm"},y={class:"flex justify-between items-center mb-4 border-b pb-2"},w={class:"flex justify-end gap-3 pt-2"};function c(s,t,l,v,r,i){return a(),u("div",x,[e("div",g,[e("div",y,[t[8]||(t[8]=e("h2",{class:"text-lg font-semibold text-gray-800"},"Edit News",-1)),e("button",{onClick:t[0]||(t[0]=o=>s.$emit("close")),class:"text-gray-400 hover:text-gray-600"},"Ã—")]),e("form",{onSubmit:t[7]||(t[7]=f((...o)=>i.submitForm&&i.submitForm(...o),["prevent"])),class:"space-y-4",enctype:"multipart/form-data"},[e("div",null,[t[9]||(t[9]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Title",-1)),n(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r.form.title=o),type:"text",required:"",class:"border border-gray-300 rounded-lg px-4 py-2 text-sm w-full sm:max-w-xs focus:outline-none focus:ring-2 focus:ring-green-500 shadow-sm transition duration-150"},null,512),[[d,r.form.title]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Content",-1)),n(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>r.form.content=o),type:"text",required:"",class:"border border-gray-300 rounded-lg px-4 py-2 text-sm w-full sm:max-w-xs focus:outline-none focus:ring-2 focus:ring-green-500 shadow-sm transition duration-150"},null,512),[[d,r.form.content]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Image",-1)),e("input",{onChange:t[3]||(t[3]=o=>i.handleFile(o,"image")),type:"file",class:"border border-gray-300 rounded-lg px-4 py-2 text-sm w-full sm:max-w-xs"},null,32)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Video",-1)),e("input",{onChange:t[4]||(t[4]=o=>i.handleFile(o,"video")),type:"file",class:"border border-gray-300 rounded-lg px-4 py-2 text-sm w-full sm:max-w-xs"},null,32)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Category",-1)),n(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>r.form.category=o),class:"border border-gray-300 rounded-lg px-4 py-2 text-sm w-full sm:max-w-xs"},t[13]||(t[13]=[e("option",{value:""},"Select Category",-1)]),512),[[b,r.form.category]])]),e("div",w,[e("button",{type:"button",onClick:t[6]||(t[6]=o=>s.$emit("close")),class:"px-4 py-2 border rounded-lg"},"Cancel"),t[15]||(t[15]=e("button",{type:"submit",class:"px-4 py-2 bg-green-500 text-white rounded-lg"},"Edit",-1))])],32)])])}const k=m(p,[["render",c]]);export{k as default};
