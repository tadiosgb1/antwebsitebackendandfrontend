import f from"./AddSites-0923be41.js";import y from"./EditSites-29ed5dd9.js";import{_ as g,r as a,o as i,c as n,b as e,F as v,e as w,f as l,g as c,t as m}from"./index-4d9ae2c6.js";const b={components:{AddSites:f,EditSites:y},data(){return{items:[],showModal:!1,editMode:!1,selectedItem:null}},methods:{async fetchItems(){try{this.items=(await this.$apiGet("/sites")).data||[]}catch(d){console.error(d),this.items=[]}},openAddModal(){this.editMode=!1,this.selectedItem=null,this.showModal=!0},editItem(d){this.editMode=!0,this.selectedItem=d,this.showModal=!0},async deleteItem(d){if(confirm("Are you sure?"))try{await this.$apiDelete(`/sites/${d}/`),this.fetchItems()}catch(t){console.error(t)}}},mounted(){this.fetchItems()}},_={class:"p-6 bg-gray-50 min-h-screen text-sm text-gray-800"},M={class:"flex items-center justify-between mb-6 border-b pb-4 border-gray-200"},S={class:"bg-white overflow-hidden rounded-xl border border-gray-200"},I={class:"overflow-x-auto"},k={class:"min-w-full text-sm divide-y divide-gray-200"},C={class:"bg-white divide-y divide-gray-200"},A={class:"px-6 py-4 whitespace-nowrap"},B={class:"px-6 py-4 whitespace-nowrap font-semibold text-green-700"},F={class:"px-6 py-4 whitespace-nowrap text-center space-x-3"},D=["onClick"],E=["onClick"],N={key:0};function V(d,t,j,G,s,r){const h=a("addSites"),p=a("editSites");return i(),n("div",_,[e("div",M,[t[4]||(t[4]=e("h1",{class:"text-lg font-bold text-gray-800"},"Sites Overview",-1)),e("button",{onClick:t[0]||(t[0]=(...o)=>r.openAddModal&&r.openAddModal(...o)),class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium shadow-md transition duration-150 flex items-center space-x-1 text-sm"},t[3]||(t[3]=[e("span",null,"Add Sites",-1)]))]),e("div",S,[e("div",I,[e("table",k,[t[6]||(t[6]=e("thead",{class:"bg-gray-100 text-gray-700 uppercase text-xs font-semibold"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left"},"#"),e("th",{class:"px-6 py-3 text-left"},"ReportField1"),e("th",{class:"px-6 py-3 text-center"},"Actions")])],-1)),e("tbody",C,[(i(!0),n(v,null,w(s.items,(o,x)=>(i(),n("tr",{key:o.id,class:"hover:bg-green-50 transition duration-150"},[e("td",A,m(x+1),1),e("td",B,m(o.reportField1),1),e("td",F,[e("button",{onClick:u=>r.editItem(o),class:"text-green-500 hover:text-green-700"},"Edit",8,D),e("button",{onClick:u=>r.deleteItem(o.id),class:"text-red-500 hover:text-red-700"},"Delete",8,E)])]))),128)),s.items.length===0?(i(),n("tr",N,t[5]||(t[5]=[e("td",{colspan:"3",class:"text-center py-6 text-gray-400 italic"},"No Sites found.",-1)]))):l("",!0)])])])]),s.showModal&&!s.editMode?(i(),c(h,{key:0,data:s.selectedItem,onClose:t[1]||(t[1]=o=>s.showModal=!1),onSaved:r.fetchItems},null,8,["data","onSaved"])):l("",!0),s.showModal&&s.editMode?(i(),c(p,{key:1,data:s.selectedItem,onClose:t[2]||(t[2]=o=>s.showModal=!1),onSaved:r.fetchItems},null,8,["data","onSaved"])):l("",!0)])}const q=g(b,[["render",V]]);export{q as default};
